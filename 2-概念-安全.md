Istio 安全功能提供强大的身份，强大的策略，透明的 TLS 加密，认证，授权和审计（AAA）工具来保护你的服务和数据。Istio 安全的目标是：

- 默认安全：应用程序代码和基础设施无需更改
- 深度防御：与现有安全系统集成以提供多层防御
- 零信任网络：在不受信任的网络上构建安全解决方案

## 双向 TLS

Istio 会自动地对流量进行双向 TLS 加密。但是，默认情况下代理会工作在宽容模式下，这个模式削弱了安全。因此，建议尽早迁移到 strict 模式

- 宽容模式（permissive mode）：允许服务同时接受明文流量和双向 TLS 流量
- 严格模式（strict mode）：只允许双向 TLS 流量

双向 TLS 本身不总是能够保证安全流量，因为它只提供了认证，而不是授权。这意味着任何拥有有效证书的人都可以访问负载。

为了真正实现安全流量，建议同时配置授权策略。这些配置通过创建细粒度的策略来允许或拒绝流量。例如，您可以配置只允许来自 `app` 命名空间的请求访问 `hello-world` 负载。

## 高层架构

Istio 中的安全性涉及多个组件：

- 用于密钥和证书管理的证书颁发机构（CA）
- 配置 API 服务器分发给代理：
  - 认证策略
  - 授权策略
  - 安全命名信息
- Sidecar 和边缘代理作为 Policy Enforcement Points (PEPs) 以保护客户端和服务器之间的通信安全.
- 一组 Envoy 代理扩展，用于管理遥测和审计